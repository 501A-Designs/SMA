<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="SMA.png"/>
    <title>SMA</title>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-analytics.js"></script>
    <!-- firebase auth -->
    <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-auth.js"></script>
    <!-- Cloud Firestore -->
    <script src="https://www.gstatic.com/firebasejs/7.22.1/firebase-firestore.js"></script>

    <link
    href="https://fonts.googleapis.com/css2?family=Sawarabi+Gothic&display=swap"
    rel="stylesheet"
    />
    <!-- CSS -->
    <link rel="stylesheet" href="./css/color.min.css">
    <link rel="stylesheet" href="./css/desktop.min.css">
    <link rel="stylesheet" href="./css/mobile.min.css">
    <link rel="stylesheet" href="./css/static.min.css">
    <link rel="stylesheet" href="./css/variables.min.css">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script src="app.min.js" defer></script>
    <script src="functions.min.js" defer></script>
  </head>
  <body>
    <section class="loadingAni">
      <div></div>
      <h3>少々お待ち下さい</h3>
    </section>

    <!-- Loading and loading text -->
    <section class="loadObject">
      <div><symbol class="material-icons">lock</symbol>認証コードを入力してください：</div>
      <form id="submitDiv">
        <input id="txtWebsitePassword" type="password" placeholder="認証コードを入力" />
        <button id="btnWebsiteVerify" class="standardButton greenBtn">認証</button>
      </form>
    </section>

    <!-- Version alert pop up -->
    <!-- <section id="versionNotify">
      <button onclick="eraseVersionNotify()">✕</button>
      
      <p id="erasedDate"></p>
    </section> -->

    <section id="loginPopUp" style="display: none;">
      <button class="close" onclick="loginPopUpFunction()"></button>
      <h2 style="margin: var(--containerGap)"><symbol class="material-icons iconHolder">perm_identity</symbol> ログインについて：</h2>
      ログインは、管理者に送られるメールパスワードを使用し、ご利用のグーグルアカウントですることができます。パスワードを入力する際正しいか確認してください。確認した上、まだ入れないようであれば、SMA Information Pageにある［ログインリクエスト］のボタンを押すことでアカウント作成の依頼を送信することが可能となります。ご理解ご協力の方よろしくおねがいします。<br /><br />
      <div id="loginContainer">
          <div id="submitDiv">
            <input id="txtPassword" type="password" placeholder="パスワードを入力" />
            <button
              id="btnLogin"
              class="standardButton greenBtn"
            >
              ログイン
            </button>
          </div>
      </div>
    </section>


    <section id="announcePopUp" hidden="true">
      <button class="close" onclick="announcePopUpFunction()"></button>
      <div class="iconTitle">
        <symbol class="material-icons iconHolder">announcement</symbol>
        <h2>新しいアナウンス</h2>
      </div>
      新しいアナウンスを書き終え、［アナウンス →］ボタンを押すと投稿が SMA
      のサイト上に誰もが閲覧できるようになります。<br /><br />
      <input id="announceTitle" style="max-width: 500px;" type="text" placeholder="記事のタイトル" /><br /><br /><hr><br />
      投稿日 <input id="announceStartDate" type="date" /><br />
      締切日 <input id="announceEndDate" type="date" /><br /><br />
      <textarea id="announceContent"
                cols="30"
                rows="8"
                placeholder="アナウンスの内容"
                style="width: 85%; resize: vertical;"></textarea>
      <br><br>
      <input id="publishAnnounce" type="submit" value="アナウンス →" class="standardButton greenBtn"></input>
    </section>

    <header>
      <div class="header">
        <img src="SMA.png" class="smaLogo" alt="No Logo">
        <h2 class="mobileErase" style="user-select: none;">
          Share My Activity
        </h2>
        <a class="mobileErase smaVersion" href="about.html#version">v</a>
      </div>

      <div id="whenSignedOut">
        <div class="header" style="gap: 10px;">
          <div class="iconTitle">
            <span style="margin-left: 5px;" class="material-icons">person_off</span>
            <h4>ログインされていません</h4>
          </div>
          <button class="standardButton greenBtn" onclick="loginPopUpFunction()">
            ログイン
          </button>
        </div>
      </div>
      <div id="whenSignedIn" hidden="true">
        <div class="header" style="gap: 10px;">
          <div id="userDetails"></div>
          <button id="btnLogout" class="standardButton redBtn">
            ログアウト
          </button>
        </div>
      </div>
    </header>

    <!-- <section id="filter">
      <button class="tagButton" id="allPosts" style="background-color: var(--grey); display: none;" onclick="window.location.reload();">全ての投稿</button>
      <button class="tagButton" id="casFilter" style="background-color: var(--purple);">CAS Activities</button>
      <button class="tagButton" id="saaFilter" style="background-color: var(--orange);">S&A Activities</button>
    </section> -->

    <p id="cautionNote">
      ！！ 注意 ！！<br />スマートフォンまた小さいディスプレイご利用の場合は、投稿されている活動のフィルター等はできないです。ご了承ください。
    </p>

    <div id="gridContainer">
      <section id="announcePlaceholder">
        <div class="iconTitle" style="margin-left: 10px;">
          <symbol class="material-icons iconHolder"> turned_in</symbol>
          <h3>SMAへようこそ！</h3>
        </div>
        <p>
          SMA（こちらのサイト）は開智日本橋学園の生徒、先生、保護者の為に立てられたサイトです。
          <br>
          現在は本校で行うIBプログラム（MYPとDP）に在籍している生徒の課外活動を提示しています。課外活動はMYP（中学1年生〜高校1年生）で行うS&Aというものと、DP（高校2年生〜3年生）で行うCASというプログラムを通して生徒は課外活動を進めています。
          <br>
          SMAの仕組みとしては、生徒がパスワードでログインすることができ、自分の課外活動を投稿します。投稿した活動内容はサイトにアクセスする権限を持つ人のみが自由に閲覧することができ、ログインした他の生徒は活動内容にコメントまたはいいねをつける事が可能となっています。このサイトもCAS活動の一部として作成されたものです。
          <br>
          <br>
          SMAについては<a href="about.html">こちら</a>から。
          <br>
          SMA製作者については<a href="501a.netlify.app">こちら</a>から。
        </p>
      </section>

      <section id="announceObject" hidden="true">
        <div class="iconTitle" style="margin-bottom: calc(var(--margin)*2);">
          <symbol class="material-icons iconHolder">announcement</symbol>
          <h4>アナウンス</h4>
        </div>
        <div class="bigButtons">
          <button class="standardButton greenBtn" id="announcePostButton" onclick="announcePopUpFunction()"><span style="font-size:30px">＋</span><br>アナウンスを追加</button>
        </div>

        <section id="announcePosts">
        </section>
        <p>ここから先アナウンスはありません</p>
      </section>

      <section class="gridObject">
        <section id="postButtons" hidden="true">
          <div class="postBtnGrid">
            <button
              class="standardButton greenBtn"
              onclick="blockDisplay(1)"
            >
              <span style="font-size:30px">＋</span><br>記事追加
            </button>
            <button class="standardButton redBtn"
            onclick="window.location.href='https://forms.gle/Y3G1jXno3mKPgZHp6';">
              <span class="material-icons" style="font-size:30px">delete_outline</span><br>記事消去をリクエスト
            </button>
            <button class="standardButton blueBtn"
            onclick="window.location.reload();">
              <span style="font-size:30px">⭯</span><br>ページを更新
            </button>
          </div>
        </section>

        <section id="createPost" hidden="true" class="load-wave"> 
          <!-- add this above (in section tag)  id="createPost" hidden="true" -->
          <button class="close" onclick="blockDisplay()"></button>
          <div class="iconTitle">
            <symbol class="material-icons iconHolder">build</symbol>
            <h2>新しい活動：</h2>
          </div>
          新しい活動を書き終え、［記事完了］ボタンを押すと投稿が SMA
          のサイト上に誰もが閲覧できるようになります。パスワードや個人情報等は投稿しないよう注意をお願いします。また、一度完了を押すと記事は編集することができないです。なお、日程は今現在（本日）を選び、記事作成の際には全ての欄を記入する必要があります。<br /><br /><hr><br>
          <form>
          活動種類を選んでください：
            <input type="radio" name="activityType" id="casLabel" value="CAS">CAS活動</input>
            <input type="radio" name="activityType" id="saaLabel" value="S&A">S&A活動</input>
          </form>
          <br>
          <input id="postTitle" style="max-width: 350px;" type="text" placeholder="記事のタイトル" />
          <input id="postAuthor" type="text" placeholder="学年・組・イニシャル" />
          <input id="postDate" type="date" /><br /><br />
          <textarea
          id="postContent"
            name="bruh"
            cols="30"
            rows="8"
            placeholder="記事内容"
            style="width: 85%; resize: vertical;"
          ></textarea>
          <br />
          <br />
          <button id="firstSubmit" class="standardButton blueBtn" onclick="confirmPrompt()">→　記事完了</button>
          <div id="confirmDiv">
            <p>
              <h2 style="color: crimson; font-weight: bold; text-align: center;">投稿する前！</h2><br>
              以下の条件を沿った上活動投稿が許可されます：
              <ul>
                <li>投稿している人は開智日本橋学園高等学校の生徒・教員である</li>
                <li>投稿内容に人が不快に思うようなコンテンツが含まれていない</li>
                <li>リンクは不可無くアクセスでき、人が不快に思うようなコンテンツが含まれていない</li>
                <li>名前、年齢、メールアドレス、パスワードなどの個人情報等を載せいない</li>
              </ul>
              詳しくは<a href="about.html#tos" target="_blank">SMA利用規約</a>を確認してください。<br>なお、投稿した後は［ページ更新］ボタンを押すと自身の投稿が閲覧できます。
            </p>
            <br>
            <input id="publishPost" type="submit" value="記事投稿　→" class="standardButton greenBtn"></input>
          </div>
        </section>
        
        <div id="postCollection"></div>
        <div style="display:flex; justify-content: center;">
          <button id="loadMore" class="standardButton orangeBtn"><span class="material-icons" style="font-size:30px">cached</span><br>もっと表示</button>
        </div>
        <br>
      </section>

      <section class="sidebarBoxes">
        <section class="desktopErase">
          <hr class="largeHr">
          <div class="iconTitle">
            <symbol class="material-icons iconHolder">face</symbol>
            <h3>Others</h3>
          </div>
          <!-- LOGIN SECTION GOES HERE -->
        </section>

        <div class="sidebarBox">
          <div class="iconTitle">
            <symbol class="material-icons iconHolder">swap_vert</symbol>
            <h4>いいね数 Top 3</h4>
          </div>
          <div id="topPosts"></div>
        </div>

        <!-- OTHERS CONTAINER -->
        <section id="addFeature" hidden="true">
          <button class="standardButton" onclick="window.open('https://forms.gle/scDFYdD3nV3Hny3e6','_blank');" style="width: 100%; margin-bottom: 10px;"">↑ CAS確認要望</button>
          <div>
            <button class="standardButton orangeBtn" onclick="window.open('https://forms.gle/cMwf16UFR9ZwxvoZ9','_blank');"><span style="font-size:30px">＋</span><br>機能のリクエスト</button>
            <button target='_blank' class="standardButton purpleBtn" onclick="window.open('https://forms.gle/CoFtiqqxxKxRFKkKA','_blank');"><span class="material-icons" style="font-size:30px">bug_report</span><br>バグ告知</button>
          </div>
        </section>

        <section class="sidebarBox">
          <div class="iconTitle">
            <symbol class="material-icons iconHolder">travel_explore</symbol>
            <h4>便利なツール</h4>
          </div>
          <div class="bigButtons">
            <button class="standardButton blueBtn" onclick="window.open('https://schedule-creator-site.firebaseapp.com/','_blank')"><span class="material-icons" style="font-size:30px">calendar_today</span><br>時間割作成サイト（DEIZU）</button>
            <button class="standardButton blueBtn" id="ibmanabu"
            onclick="window.open('https://501a-designs.github.io/ib-manabu/','_blank')"><span class="material-icons" style="font-size:30px">public</span><br>IBmanabu</button>
            <small style="color: var(--darkBlue);">SMAとは関係無いです</small>
          </div>
        </section>

        <details class="sidebarBox">
          <summary>7つの Learning Outcome</summary>
          <div class="load-wave">
            <ol id="loENG" style="display: none;">
              <li>Identify your own strengths and develop areas for personal growth.
              </li>
              <li>Demonstrate challenges have been undertaken, developing new skills in the process.
              </li>
              <li>Demonstrate how to initate and plan a CAS experience.
              </li>
              <li>Show commitment to and perseverance in CAS experience.
              </li>
              <li>Demonstrate the skills and recognize the benfits of working collaboratively.
              </li>
              <li>Demonstrate engagement with issues of global significance.
              </li>
              <li>Recognize and consider the ethics of choices and actions.
              </li>
            </ol>
            <ol id="loJPN">
              <li>自らの長所と成長すべき点を認識する。</li>
              <li>課題に挑戦し、その過程で新しいスキルを習得している。</li>
              <li>自らCASを計画し開始することができる。</li>
              <li>CAS活動を継続し、やり遂げる粘り強さを示す。</li>
              <li>自らのスキルを活かし、また他者と共に活動する意義を認識する。</li>
              <li>グローバルな問題に取り組む。</li>
              <li>選択と行動の倫理を認識し、考察する。</li>
            </ol>
            <button id="langButton" onclick="langFunction()"><span class="material-icons" style="font-size: 18px;">translate</span></button>
          </div>
        </details>

        <details class="sidebarBox" close>
          <summary>関連ウェブサイト</summary>
          <div  class="load-wave">
            <br>
            <section id="additionalSites">
              <button
                id="kngedjp"
                onclick="window.open('http://kng.ed.jp','_blank')"
              >
                開智日本橋学園
              </button>
              <button
                id="mreader"
                onclick="window.open('https://mreader.org/index.php','_blank')"
              >
                Mreader
              </button>
              <button
                id="learngeo"
                onclick="window.open('https://www.learngeowith.me/','_blank')"
              >
                LearnGeoWithMe
              </button>
            </section>
          </div>
        </details>

        <details class="sidebarBox" open>
          <summary>生徒によるウェブサイト</summary>
          <div class="load-wave">
            <br>
            <section id="additionalSites">
              <button onclick="window.open('http://www.kngcan.info/','_blank')">
                KNG Can Food Drive
              </button>
              <button
                id="ibmanabu"
                onclick="window.open('https://501a-designs.github.io/ib-manabu/','_blank')"
              >
                Orenohibi
              </button>
              <div id="addSite" hidden="true">
                <small style="color: rgb(155, 101, 0);">自分が作成したサイトの提示をリクエストできます</small>
                <button style="width: 100%; margin-top: 15px;" class="standardButton orangeBtn" onclick="window.open('https://forms.gle/FNXXS4YKYb6ySTmy5','_blank')"><span class="material-icons" style="font-size:30px">note_add</span><br>提示をリクエスト</button>
              </div>
            </section>
          </div>
        </details>

        <!-- DARK MODE BUTTON -->
        <section class="sidebarBox">
          <div class="iconTitle">
            <symbol class="material-icons iconHolder">invert_colors</symbol>
            <h4>色モード変更</h4>
          </div>
          <div class="buttonsContainer">
            <button onclick="LtoD()" id="DtoL"><span class="material-icons">wb_sunny</span><br>朝モード</button>
            <button onclick="DtoL()" id="LtoD"><span class="material-icons">landscape</span><br>夜モード</button>
          </div>         
        </section>

        <!-- OTHERS CONTAINER -->
        <section class="sidebarBox">
          <div class="iconTitle">
            <symbol class="material-icons iconHolder">explore</symbol>
            <h4>Share My Activity</h4>
          </div>
          <section id="additionalSites">
            <button onclick="window.open('about.html#about','_blank')">SMAについて</button>
            <button onclick="window.open('about.html#howto','_blank')">SMAの使用法</button>
          </section>
        </section>

        <h5 style="text-align: center; color: black">
          <a style="color: black" href="https://501a.netlify.app/">Developed by 501A</a><br>
          IP Written by Y.Y
        </h5>
      </section>
    </div>
  </body>
</html>
